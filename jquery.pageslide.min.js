(function(a){a.fn.pageSlide=function(f){function g(d){if(a("#pageslide-slide-wrap").width()!=0)return false;c.modal==true&&a("#pageslide-blanket").toggle().animate({opacity:"0.8"},"fast","linear");if(c.direction=="right"){direction={right:"-"+c.width};a("#pageslide-slide-wrap").css({left:0});a.browser.msie?a("body, html").css({overflowX:"hidden"}):a("body").css({overflowX:"hidden"})}else{direction={left:"-"+c.width};a("#pageslide-slide-wrap").css({right:0})}a("#pageslide-slide-wrap").animate({width:c.width},
c.duration);a("#pageslide-body-wrap").animate(direction,c.duration,function(){var b=a(d).attr("href"),e=c.idPrefix+b.replace(".",""),h=a("div#pageSlideStore").find("div#"+e);if(!c.ajaxReload&&h.length){b=h.html();i(b,e)}else a.ajax({type:"GET",url:b,success:function(k){i(k,e)}})})}function j(d){a(d)[0].button!=2&&a("#pageslide-slide-wrap").css("width")!="0px"&&a.fn.pageSlideClose(c)}var c=a.extend({width:"300px",duration:"normal",direction:"left",modal:false,ajaxReload:true,idPrefix:"slide",_identifier:a(this)},
f),l={position:"fixed",width:"0",top:"0",height:"100%",zIndex:"999"},m={position:"relative",zIndex:"0"},n={position:"absolute",top:"0px",left:"0px",height:"100%",width:"100%",opacity:"0.0",backgroundColor:"black",zIndex:"1",display:"none"},i=function(d,b){a("#pageslide-content").css("width",c.width).html(d).queue(function(){a(this).dequeue();a(this).find(".pageslide-close").unbind("click").click(function(h){j(h);a(this).find("pageslide-close").unbind("click")})});var e=a("div#pageSlideStore").find("div#"+
b);!c.ajaxReload&&!e.length&&a("<div></div>").attr("id",b).html(d).appendTo("body div#pageSlideStore").hide()};(function(d){if(a("#pageslide-body-wrap, #pageslide-content, #pageslide-slide-wrap").size()==0){var b=document.createElement("div");a(b).css(m);a(b).attr("id","pageslide-body-wrap").width(a("body").width());a("body").contents().wrapAll(b);b=document.createElement("div");a(b).attr("id","pageslide-content").width(c.width);var e=document.createElement("div");a(e).css(l);a(e).attr("id","pageslide-slide-wrap").append(b);
a("body").append(e)}if(a("#pageslide-blanket").size()==0&&c.modal==true){b=document.createElement("div");a(b).css(n);a(b).attr("id","pageslide-blanket");a("body").append(b);a("#pageslide-blanket").click(function(){return false})}c.ajaxReload||a("div#pageSlideStore").length||a("<div>").attr("id","pageSlideStore").appendTo("body");a(window).resize(function(){a("#pageslide-body-wrap").width(a("body").width())});a(d).attr("rel","pageslide")})(this);return this.each(function(){a(this).unbind("click").bind("click",
function(){g(this);a("#pageslide-slide-wrap").unbind("click").click(function(d){if(d.target.tagName!="A")return false});c.modal!=true&&a(document).unbind("click").click(function(d){if(d.target.tagName!="A"){j(d);return false}});return false})})}})(jQuery);
(function(a){a.fn.pageSlideClose=function(f){var g=a.extend({width:"300px",duration:"normal",direction:"left",modal:false,_identifier:a(this)},f);(function(){g.modal==true&&a("#pageslide-blanket").is(":visible")&&a("#pageslide-blanket").animate({opacity:"0.0"},"fast","linear",function(){a(this).hide()})})();direction=a("#pageslide-slide-wrap").css("left")!="0px"?{left:"0"}:{right:"0"};a("#pageslide-body-wrap").animate(direction,g.duration);a("#pageslide-slide-wrap").animate({width:"0"},g.duration,
function(){a("#pageslide-content").css("width","0px").empty();a("#pageslide-body-wrap, #pageslide-slide-wrap").css("left","");a("#pageslide-body-wrap, #pageslide-slide-wrap").css("right","");a.browser.msie?a("body, html").css({overflowX:""}):a("body").css({overflowX:""})})}})(jQuery);(function(a){a(document).ready(function(){a(document).keyup(function(f){!a("#pageslide-blanket").is(":visible")&&f.keyCode==27&&a.fn.pageSlideClose()})})})(jQuery);