(function(a){a.fn.pageSlide=function(f){function g(c){if(a("#pageslide-slide-wrap").width()!=0)return false;d.modal==true&&a("#pageslide-blanket").toggle().animate({opacity:"0.8"},"fast","linear");if(d.direction=="right"){direction={right:"-"+d.width};a("#pageslide-slide-wrap").css({left:0});a.browser.msie?a("body, html").css({overflowX:"hidden"}):a("body").css({overflowX:"hidden"})}else{direction={left:"-"+d.width};a("#pageslide-slide-wrap").css({right:0})}a("#pageslide-slide-wrap").animate({width:d.width},
d.duration);a("#pageslide-body-wrap").animate(direction,d.duration,function(){var b=a(c).attr("href"),e=a("div[id="+b+"]");if(e.length){e=e.html();h(e,b)}else a.ajax({type:"GET",url:b,success:function(j){h(j,b)}})})}function i(c){a(c)[0].button!=2&&a("#pageslide-slide-wrap").css("width")!="0px"&&a.fn.pageSlideClose(d)}var d=a.extend({width:"300px",duration:"normal",direction:"left",modal:false,_identifier:a(this)},f),k={position:"fixed",width:"0",top:"0",height:"100%",zIndex:"999"},l={position:"relative",
zIndex:"0"},m={position:"absolute",top:"0px",left:"0px",height:"100%",width:"100%",opacity:"0.0",backgroundColor:"black",zIndex:"1",display:"none"},h=function(c,b){a("#pageslide-content").css("width",d.width).html(c).queue(function(){a(this).dequeue();a(this).find(".pageslide-close").unbind("click").click(function(e){i(e);a(this).find("pageslide-close").unbind("click")})});a("<div>").attr("id",b).html(c).appendTo("body")};(function(c){if(a("#pageslide-body-wrap, #pageslide-content, #pageslide-slide-wrap").size()==
0){var b=document.createElement("div");a(b).css(l);a(b).attr("id","pageslide-body-wrap").width(a("body").width());a("body").contents().wrapAll(b);b=document.createElement("div");a(b).attr("id","pageslide-content").width(d.width);var e=document.createElement("div");a(e).css(k);a(e).attr("id","pageslide-slide-wrap").append(b);a("body").append(e)}if(a("#pageslide-blanket").size()==0&&d.modal==true){b=document.createElement("div");a(b).css(m);a(b).attr("id","pageslide-blanket");a("body").append(b);a("#pageslide-blanket").click(function(){return false})}a(window).resize(function(){a("#pageslide-body-wrap").width(a("body").width())});
a(c).attr("rel","pageslide")})(this);return this.each(function(){a(this).unbind("click").bind("click",function(){g(this);a("#pageslide-slide-wrap").unbind("click").click(function(c){if(c.target.tagName!="A")return false});d.modal!=true&&a(document).unbind("click").click(function(c){if(c.target.tagName!="A"){i(c);return false}});return false})})}})(jQuery);
(function(a){a.fn.pageSlideClose=function(f){var g=a.extend({width:"300px",duration:"normal",direction:"left",modal:false,_identifier:a(this)},f);(function(){g.modal==true&&a("#pageslide-blanket").is(":visible")&&a("#pageslide-blanket").animate({opacity:"0.0"},"fast","linear",function(){a(this).hide()})})();direction=a("#pageslide-slide-wrap").css("left")!="0px"?{left:"0"}:{right:"0"};a("#pageslide-body-wrap").animate(direction,g.duration);a("#pageslide-slide-wrap").animate({width:"0"},g.duration,
function(){a("#pageslide-content").css("width","0px").empty();a("#pageslide-body-wrap, #pageslide-slide-wrap").css("left","");a("#pageslide-body-wrap, #pageslide-slide-wrap").css("right","");a.browser.msie?a("body, html").css({overflowX:""}):a("body").css({overflowX:""})})}})(jQuery);(function(a){a(document).ready(function(){a(document).keyup(function(f){!a("#pageslide-blanket").is(":visible")&&f.keyCode==27&&a.fn.pageSlideClose()})})})(jQuery);